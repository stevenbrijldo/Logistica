{% extends "template_base.html" %}
{% block titulo%} Proveedores {% endblock %}
{% block js %} 
 <script src="{{ STATIC_URL }}js/jquery-1.8.3.min.js"></script>
<script src="{{ STATIC_URL }}js/bootstrap.min.js"></script>
{% endblock %}
{% block contenido %}

	<h1>Proveedores</h1>
	
	<div class="panel-group" id="accordion">
			  <div class="panel panel-primary">
			    <div class="panel-heading">
			      <h4 class="panel-title">
			        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseOne">
			          Agregar Proveedor
			        </a>
			      </h4>
			    </div>
			    <div id="collapseOne" class="panel-collapse collapse in">
			      <div class="panel-body">
			<form class="form-horizontal" method="post" action="{%url 'agregarProveedor'%}">
				{% csrf_token %}
		  	<legend align="center">Favor Ingrese los datos para el nuevo proveedor</legend>
		  		<div class="control-group">
		  			<div class="row">
		  				<div class="col-md-2"></div>
		  				<div class="col-md-2">
		  					<label>C贸digo:</label>
		  				</div>
		  				<div class="col-md-6">
		  					<input type="text" name="codigo" class="form-control" required=""  >
		  				</div>
					</div>
					
					<div class="row">
						<div class="col-md-2"></div>
		  				<div class="col-md-2">
		  					<label>Nombres:</label>
		  				</div>
		  				<div class="col-md-6">
		  					<input type="text" name="nombre" class="form-control" required=""  >
		  				</div>
					</div>
					
					<div class="row">
						<div class="col-md-2"></div>
		  				<div class="col-md-2">
		  					<label>Direcci贸n:</label>
		  				</div>
		  				<div class="col-md-6">
		  					<input type="text" name="direccion" class="form-control" required=""  >
		  				</div>
					</div>
					
					<div class="row">
						<div class="col-md-2"></div>
		  				<div class="col-md-2">
		  					<label>Telefono:</label>
		  				</div>
		  				<div class="col-md-6">
		  					<input type="text" name="telefono" class="form-control" required=""  >
		  				</div>
					</div>
					
					<div class="row">
						<div class="col-md-2"></div>
		  				<div class="col-md-4">
		  					<input type="submit" class="btn btn-primary" value="Agregar" />
		  				</div>
					</div>
		  		</div>

		  	</form>
			       
			      </div>
			    </div>
			  </div>
			  <div class="panel panel-primary">
			    <div class="panel-heading">
			      <h4 class="panel-title">
			        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo">
			          Lista de Proveedores
			        </a>
			      </h4>
			    </div>
			    <div id="collapseTwo" class="panel-collapse collapse">
			      <div class="panel-body">
		<table class="table table-striped">
			<tr>
				<th>Codigo</th>
				<th>Nombre</th>
				<th>Direccion</th>
				<th>Telefono</th>
				<th>Opciones</th>
			</tr>
			
			<tr>
				<td>
					  <input type="text" placeholder="Buscar..." name="busquedaCodigo" class="input-sm"	>
				</td>
				<td>
					  <input type="text" placeholder="Buscar..." name="busquedaNombre" class="input-sm"	>
				</td>
				<td>
					  <input type="text" placeholder="Buscar..." name="busquedaDireccion" class="input-sm"	>
				</td>
				<td>
					  <input type="text" placeholder="Buscar..." name="busquedaTelefono"class="input-sm"	>
				</td>
				<td>
					<input type="submit" class="btn btn-primary" value="Buscar" />
				</td>
			</tr>
			
			{% for proveedor in listaProveedores %}
				{% if proveedor.estado %}
				<tr class="success">
				{% else %}
				<tr class="danger">
				{% endif %}
					<td>{{ proveedor.codigo }}</td>
					<td>{{ proveedor.nombre }}</td>
					<td>{{ proveedor.direccion }}</td>
					<td>{{ proveedor.telefono }}</td>
					<td><a data-toggle="modal" href="#{{ proveedor.codigo }}" class="glyphicon glyphicon-pencil"></a>
					<a href="{% url 'agregarProductoProveedor' proveedor.codigo %}" class="glyphicon glyphicon-plus-sign"></a>
					<a href="{% url 'listaProductosProveedor' proveedor.codigo %}" class="glyphicon glyphicon-eye-close"></a></td>
					
					<div class="modal fade" id="{{ proveedor.codigo }}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
						    <div class="modal-dialog">
						      <div class="modal-content">
						        <div class="modal-header">
						          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
						          <h4 class="modal-title">Editar Proveedor {{proveedor}}</h4>
						        </div>
						        <form class="form-vertical" action="{% url 'editarProveedor' proveedor.codigo %}" method="POST">
						        	{% csrf_token %}
						        <div class="modal-body">
						          	
						          	<div class="control-group">
		  			<div class="row">
		  				<div class="col-md-2"></div>
		  				<div class="col-md-2">
		  					<label>C贸digo:</label>
		  				</div>
		  				<div class="col-md-6">
		  					{{proveedor.codigo}}
		  				</div>
					</div>
					
					<div class="row">
						<div class="col-md-2"></div>
		  				<div class="col-md-2">
		  					<label>Nombres:</label>
		  				</div>
		  				<div class="col-md-6">
		  					{{proveedor.nombre}}
		  				</div>
					</div>
					
					<div class="row">
						<div class="col-md-2"></div>
		  				<div class="col-md-2">
		  					<label>Direcci贸n:</label>
		  				</div>
		  				<div class="col-md-6">
		  					<input type="text" placeholder="{{proveedor.direccion}}" class="input-sm" name="nuevaDireccion"/>
		  				</div>
					</div>
					
					<div class="row">
						<div class="col-md-2"></div>
		  				<div class="col-md-2">
		  					<label>Telefono:</label>
		  				</div>
		  				<div class="col-md-6">
		  					{{proveedor.telefono}}
		  				</div>
					</div>

					<div class="row">
						<div class="col-md-2"></div>
		  				<div class="col-md-2">
		  					<label>Estado:</label>
		  				</div>
		  				<div class="col-md-6">
		  						<select name="estado" class="form-control">
									{% if proveedor.estado %}
										<option value="true">Activo</option>
										<option value="false">Inactivo</option>
									{% else %}
										<option value="false">Inactivo</option>
										<option value="true">Activo</option>
									{% endif %}
								</select>
		  				</div>
					</div>
			          	
						          	
						          	
						        </div>
						        <div class="modal-footer">
						          <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
						          <input type="submit" class="btn btn-primary" value="Guardar" />
						        </div>
						        </form>
						      </div><!-- /.modal-content -->
						    </div><!-- /.modal-dialog -->
						  </div><!-- /.modal -->
					
				</tr>
			{% endfor %}
		</table>
					
					
			      </div>
			    </div>
			  </div>
		</div>
	
{% endblock %}
